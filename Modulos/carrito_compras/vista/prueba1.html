<!-- Supongamos que tienes un producto con id, nombre y precio -->
<div class="producto">
  <p>Nombre: Camiseta</p>
  <p>Precio: $50</p>
  <button onclick="agregarAlCarrito(1, 'Camiseta', 50)">Agregar al carrito</button>
</div>

<!-- Contenedor para mostrar los productos en el carrito -->
<div id="carrito"></div>

<script>
  function agregarAlCarrito(id, nombre, precio) {
    const data = {
      id: id,
      articulo: nombre,
      precio: precio,
      cantidad: 1
    };

    fetch("/add_to_cart", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    })
    .then(res => res.json())
    .then(respuesta => {
      alert(respuesta.message);
      mostrarCarrito();
    })
    .catch(error => console.error("Error:", error));
  }

  // Mostrar carrito
  function mostrarCarrito() {
    fetch("/cart")
      .then(res => res.json())
      .then(data => {
        let carritoHTML = "<h3>Carrito</h3><ul>";
        data.forEach(item => {
          carritoHTML += `<li>${item.articulo} - ${item.cantidad} x $${item.precio}</li>`;
        });
        carritoHTML += "</ul>";
        document.getElementById("carrito").innerHTML = carritoHTML;
      });
  }
</script>
